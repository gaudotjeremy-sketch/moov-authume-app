<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Admin â€” Moov Authume ğŸ‘‘</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ‘‘ Espace Admin</h1>
        <a href="/" class="button home">ğŸ  Accueil</a>

        <section>
            <h2>ğŸ§ AdhÃ©rents</h2>
            <form action="/add_member" method="POST" class="form-grid">
                <input type="text" name="name" placeholder="Nom complet" required>
                <input type="email" name="email" placeholder="Email" required>
                <input type="date" name="valid_until" required>
                <button type="submit">â• Ajouter</button>
            </form>

            <table>
                <tr><th>Nom</th><th>Email</th><th>ValiditÃ©</th><th>QR Code</th><th>Actions</th></tr>
                {% for m in members %}
                <tr>
                    <td>{{ m.name }}</td>
                    <td>{{ m.email }}</td>
                    <td>{{ m.valid_until }}</td>
                    <td><img src="/qrcode/{{ m.id }}" width="80"></td>
                    <td>
                        <form action="/extend_member/{{ m.id }}" method="POST" style="display:inline;">
                            <input type="date" name="valid_until" required>
                            <button>â© Prolonger</button>
                        </form>
                        <a href="/delete_member/{{ m.id }}" class="button danger">ğŸ—‘ï¸ Supprimer</a>
                    </td>
                </tr>
                {% endfor %}
            </table>
        </section>

        <section>
            <h2>ğŸŸï¸ Ã‰vÃ©nements</h2>
            <form action="/add_event" method="POST" class="form-grid">
                <input type="text" name="event_name" placeholder="Nom de l'Ã©vÃ©nement" required>
                <input type="date" name="event_date" required>
                <input type="number" name="drink_limit" placeholder="Nb bons boisson" required>
                <input type="number" name="food_limit" placeholder="Nb bons repas" required>
                <button type="submit">â• Ajouter</button>
            </form>

            <table>
                <tr><th>Nom</th><th>Date</th><th>Bons</th><th>Actions</th></tr>
                {% for e in events %}
                <tr>
                    <td>{{ e.name }}</td>
                    <td>{{ e.date }}</td>
                    <td>ğŸ¥¤ {{ e.limits.boisson }} / ğŸ” {{ e.limits.repas }}</td>
                    <td><a href="/delete_event/{{ e.id }}" class="button danger">ğŸ—‘ï¸ Supprimer</a></td>
                </tr>
                {% endfor %}
            </table>
        </section>

        <section>
            <h2>ğŸ¤ BÃ©nÃ©voles</h2>
            <form action="/add_volunteer" method="POST" class="form-grid">
                <input type="text" name="volunteer_name" placeholder="Nom bÃ©nÃ©vole" required>
                <button type="submit">â• Ajouter</button>
            </form>

            <table>
                <tr><th>Nom</th><th>Actions</th></tr>
                {% for v in volunteers %}
                <tr>
                    <td>{{ v.name }}</td>
                    <td><a href="/delete_volunteer/{{ v.id }}" class="button danger">ğŸ—‘ï¸ Supprimer</a></td>
                </tr>
                {% endfor %}
            </table>
        </section>
    </div>
</body>
</html>
